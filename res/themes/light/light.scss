$main-color: #4e93da;
$secondary-color: #417fbf;
$hovered-color: lighten($main-color, 35%);
$secondary-hovered-color: lighten($secondary-color, 35%);
$disabled-color: #f0f0f0;
$text-color: #404040;
$inverse-text-color: #f0f0f0;
$hovered-label-color: mix($text-color, $main-color, 60%);
$disabled-text-color: fade-out($text-color, 0.5);
$focused-border-color: saturate($main-color, 30%);

/*
.css file is autogenerated, edit only .scss file and commit changes with SASS processor, e.g. sassc:

    sassc --style compact theme.scss theme.css
*/

* {
    gap: 6px;
    font-face: "Helvetica Neue, Liberation Sans, DejaVu Sans, Verdana, Arial, Helvetica, Roboto, Droid Sans";
    font-family: sans-serif;
    font-size: 13px;
    color: $text-color;
}

@define-colors {
    window_background: #f0f1f1;
}

/* controls */

Button {
    align: center;
    padding: 4px 8px;
    border: 1px solid #aaa;
    background: linear(0deg, #eeeeee, #dddddd);
    focus-rect-color: #bbb;
    transition: border-color 75ms ease;

    &:hovered:not(checked) {
        border-color: $secondary-color;
    }

    &:pressed, &:checked {
        border-color: $main-color;
        background: linear(190deg, #e3e3e3, #dfdfdf);
    }

    &:not(enabled) {
        border: 1px solid #ccc;
        opacity: 0.4;
    }

    &::icon, &::label {
        align: center;
    }

    &::label {
        stretch: main;
        text-align: center;
        text-hotkey: underline-on-alt;
        text-overflow: ellipsis;
        transition: color 75ms ease;

        &:hovered {
            color: $hovered-label-color;
        }

        &:pressed {
            color: $secondary-color;
        }

        &:not(enabled) {
            color: $disabled-text-color;
        }
    }
}

Button.flat {
    background: none;
    focus-rect-color: none;
}

LinkButton {
    padding: 3px;
    border: none;
    background: none;

    &::label {
        color: #4169e1;
        text-align: start;
        text-overflow: ellipsis-middle;

        &:hovered {
            text-decoration: underline;
        }

        &:not(enabled) {
            color: fade-out(#c0c0ff, 0.3);
        }
    }
}

CheckBox, RadioButton {
    padding: 2px;
}

CheckBox::label, RadioButton::label {
    align: left vcenter;
    stretch: main;
    text-hotkey: underline-on-alt;
    text-overflow: ellipsis;

    &:hovered {
        color: $hovered-label-color;
    }

    &:not(enabled) {
        color: $disabled-text-color;
    }
}

CheckBox::icon, MenuItem::check, RadioButton::icon, MenuItem::radio {
    align: center;
    min-width: 16px;
    min-height: 16px;

    &:not(enabled) {
        opacity: 0.4;
    }

    &:enabled:not(checked):hovered {
        border-color: #d0d0d0;
    }

    &:not(checked):pressed {
        background-color: #f7f7f7;
        border-color: #d0d0d0;
    }
}

CheckBox::icon, MenuItem::check {
    &:not(checked) {
        background-color: white;
        border: 1px solid #e0e0e0;
        border-radius: 3px;
    }

    &:checked {
        background: url(btn_check_on);
    }

    &:checked:hovered {
        background: url(btn_check_on_focused);
    }

    &:checked:pressed {
        background: url(btn_check_on_pressed);
    }
}

RadioButton::icon, MenuItem::radio {
    background-color: white;
    border: 1px solid #e0e0e0;
    border-radius: 50%;

    &:checked {
        border-color: $main-color;
        border-width: 5px;
    }
}

SwitchButton {
    align: center;
    background: url(switch_off);

    &:not(enabled) {
        opacity: 0.4;
    }

    &:checked {
        background: url(switch_on);
    }
}

CanvasWidget {
    min-width: 50px;
    min-height: 50px;
}

/* text */

Label {
    padding: 2px;

    &:not(enabled) {
        color: $disabled-text-color;
    }
}

/* layout.linear */

Resizer {
    min-width: 3px;
    min-height: 3px;

    &:hovered {
        background-color: fade-out(#ffff00, 0.8);
    }

    &:focused {
        background-color: fade-out(#c0c000, 0.2);
    }

    &:pressed {
        background-color: fade-out($main-color, 0.2);
    }
}

/* groupbox */

GroupBox {
    padding: 20px 10px 16px;
}

GroupBox::caption {
    align: left vcenter;
    padding: 1px;
    color: #504840;
    text-overflow: ellipsis;
}

@define-drawables {
    group_box_frame_up_left: url(group_box_frame_up_left);
    group_box_frame_up_right: url(group_box_frame_up_right);
    group_box_frame_bottom: url(group_box_frame_bottom);
}

/* lists */

ListWidget {
    border: 1px solid #aaa;
    background-color: #fff;
    transition: border-color 100ms ease;

    &:focused {
        border-color: $focused-border-color;
    }

    &:not(enabled) {
        background-color: $disabled-color;
    }
}

StringListAdapter::item, IconStringListAdapter::item {
    padding: 2px 4px;

    &:hovered {
        background-color: $hovered-color;
    }

    &:focused, &:selected {
        background-color: $main-color;
        color: $inverse-text-color;
    }
}

/* combobox */

ComboBoxBase {
    padding: 3px 4px;
    border: 1px solid #aaa;
    background: linear(0deg, #eeeeee, #dddddd);
    transition: border-color 100ms ease;

    &:hovered {
        border-color: $secondary-color;
    }

    &:focused {
        border-color: $main-color;
    }

    &:pressed {
        border-color: $main-color;
        background: linear(180deg, #eeeeee, #dddddd);
    }

    &.opened {
        border-color: $main-color;
    }

    &:not(enabled) {
        border-color: #ccc;
        opacity: 0.4;
    }

    &::body {
        min-width: 40px;
        padding: 2px;
        align: left vcenter;
        stretch: both;
        transition: color 100ms ease;

        &:hovered {
            color: $hovered-label-color;
        }

        &:pressed {
            color: $secondary-color;
        }
    }

    &::button {
        align: center;
        padding: 3px 2px;
    }

    &::body:not(enabled), &::button:not(enabled) {
        opacity: 0.4;
    }

    &::list {
        border: 1px solid #aaa;
        box-shadow: 0 3px 6px rgba(0, 0, 0, 0.25);
        background-color: white;

        &:focused {
            border: 1px solid fade-out(#2040ff, 0.25);
        }

        &:not(enabled) {
            background-color: $inverse-text-color;
        }
    }
}

ComboEdit {
    background: none;

    &::body {
        &:hovered, &:pressed {
            color: $text-color;
        }

        &:focused {
            color: initial;
        }
    }
}

/* menu */

Menu {
    width: auto;
    height: auto;
    border: none;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.25);
    background-color: #f4f4f4;
}

MenuBar {
    margin: 0;
    padding-left: 3px;
    flex-shrink: 0;
    box-shadow: 0 0 5px #888;
    background-color: #f3f4f5;
}

MenuItem {
    padding: 6px 4px;

    &:hovered {
        background-color: $hovered-color;
    }

    &:focused, &:selected {
        background-color: $main-color;
    }

    &.separator {
        padding: 4px;
    }

    &::separator {
        min-width: 1px;
        min-height: 1px;
        background: #ccc;
    }

    &::icon {
        align: left vcenter;
        padding: 0 2px;
    }

    &::icon:not(enabled) {
        opacity: 0.4;
    }

    &::label {
        align: left vcenter;
        padding: 0 4px;
        text-hotkey: underline-on-alt;
    }

    &::shortcut {
        align: right vcenter;
        padding-left: 8px;
        padding-right: 2px;
    }

    &::open {
        align: center;
    }

    &::label:focused, &::label:selected,
    &::shortcut:focused, &::shortcut:selected {
        color: #eee;
    }

    &::label:not(enabled), &::shortcut:not(enabled) {
        color: $disabled-text-color;
    }
}

/* tree */

TreeItemWidget {
    min-width: 100px;
    min-height: 1em;
    gap: 0;

    &::expander {
    }

    &::body {
        padding: 2px 4px;
        gap: 0;

        &:hovered {
            background-color: $secondary-hovered-color;
        }

        &:pressed, &:selected {
            background-color: $main-color;
        }
    }

    &::icon {
        padding-right: 3px;
    }

    &::label:pressed, &::label:selected {
        color: $inverse-text-color;
    }

    &::label:default {
        font-weight: bold;
    }
}

/* grid */

StringGridWidget, FileDialog::grid {
    min-width: 100px;
    min-height: 60px;
    border: 1px solid #aaa;
    background-color: #fff;
    font-face: "Menlo,Consolas,DejaVuSansMono,Lucida Sans Typewriter,Courier New,Lucida Console";
    transition: border-color 100ms ease;

    &:focused {
        border-color: $focused-border-color;
    }

    &:not(enabled) {
        background-color: $disabled-color;
    }
}

@define-colors {
    grid_selection: fade-out(#4040ff, 0.5);
    grid_selection_row: fade-out(#a0b0ff, 0.8);
    grid_cell_background_fixed: fade-out(#e0e0e0, 0.8);
    grid_cell_border: fade-out(#c0c0c0, 0.8);
    grid_cell_border_header: fade-out(#202020, 0.8);
    grid_cell_background_header: fade-out(#909090, 0.8);
    grid_cell_background_header_selected: fade-out(#ffc040, 0.5);
}

/* scroll */

ScrollArea {
    min-width: 200px;
    min-height: 150px;
}

/* scrollbar */

ScrollBar {
    background-color: fade-out(black, 0.95);
}

ScrollBar > ScrollIndicator {
    padding: 3px;
    background-color: #c2c2c2;

    &:hovered {
        background-color: #d2d2d2;
    }

    &:pressed {
        background-color: #d8d8d8;
    }

    &:not(enabled) {
        opacity: 0.4;
    }
}

ScrollBar > PageScrollButton {
    &:pressed {
        background-color: fade-out(#404080, 0.9);
    }

    &:hovered {
        background-color: fade-out(#404080, 0.95);
    }
}

AbstractSlider > SliderHandle {
    padding: 5px;
    border: 1px solid transparent;
    background-color: $main-color;
    background-clip: padding-box;

    &:pressed {
        background-color: fade-out($focused-border-color, 0.3);
    }

    &:not(enabled) {
        opacity: 0.4;
    }
}

AbstractSlider {
    &::range-before, &::range-after {
        border-color: transparent;
        background-color: #888;
        background-clip: padding-box;
    }

    &.horizontal::range-before, &.horizontal::range-after {
        border-top-width: 4px;
        border-bottom-width: 4px;
    }

    &.vertical::range-before, &.vertical::range-after {
        border-left-width: 4px;
        border-right-width: 4px;
    }
}

Slider {
    &::range-before {
        background-color: $secondary-color;
    }
}

RangeSlider {
    &::range-between {
        border-color: transparent;
        background-color: $secondary-color;
        background-clip: padding-box;
    }

    &.horizontal::range-between {
        border-top-width: 4px;
        border-bottom-width: 4px;
    }

    &.vertical::range-between {
        border-left-width: 4px;
        border-right-width: 4px;
    }
}

@define-drawables {
    scrollbar_button_up: url(scrollbar_btn_up);
    scrollbar_button_down: url(scrollbar_btn_down);
    scrollbar_button_left: url(scrollbar_btn_left);
    scrollbar_button_right: url(scrollbar_btn_right);
    scrollbar_indicator_vertical: none;
    scrollbar_indicator_horizontal: none;
}

/* tabs */

TabWidget {
    gap: 0;
}

TabControl {
    padding-left: 3px;
    padding-right: 3px;
}

TabControl::more {
    opacity: 0.6;
    transition: opacity 100ms ease;

    &:hovered {
        opacity: 1;
    }
}

TabHost {
    padding: 6px;
    stretch: both;
    background-color: #f2f4f5;
}

TabItem {
    padding: 6px 1px 0 0;
    gap: 0;
    border: 0 solid transparent;
}

TabControl.top TabItem {
    border-bottom-width: 2px;
}

TabControl.bottom TabItem {
    border-top-width: 2px;
}

TabItem:selected {
    border-color: $main-color;
}

TabItem::label {
    align: hcenter bottom;
    padding: 0 3px 3px;
    text-hotkey: underline-on-alt;
    transition: color 100ms ease;

    &:hovered, &:selected,
    &:focused, &:selected:focused {
        color: $main-color;
    }
}

/* editors */

EditLine {
    padding: 4px;
    border: 1px solid #aaa;
    background-color: #fff;
    transition: border-color 100ms ease;

    &:focused {
        border-color: $focused-border-color;
    }

    &:not(enabled) {
        background-color: $disabled-color;
    }
}

EditBox, LogWidget {
    min-width: 100px;
    min-height: 60px;
    border: 1px solid #aaa;
    background-color: #fff;
    font-face: "Menlo,Consolas,DejaVuSansMono,Lucida Sans Typewriter,Courier New,Lucida Console";
    transition: border-color 100ms ease;

    &:focused {
        border-color: $focused-border-color;
    }

    &:not(enabled) {
        background-color: $disabled-color;
    }
}

LogWidget {
    font-family: monospace;
    font-size: 10px;
}

FindPanel {
    padding: 4px;
    background-color: white;
    box-shadow: 0 -2px 3px rgba(0, 0, 0, 0.25);
}

FindPanel.find-only {
    row-gap: 0;
}

FindPanel > Button.close {
    padding: 0;
    align-self: center;
    background: none;
}

@define-colors {
    edit_caret: black;
    edit_caret_replace: fade-out(#8080ff, 0.5);
    editor_selection_focused: fade-out(#60a0ff, 0.7);
    editor_selection_normal: fade-out(#60a0ff, 0.9);
    editor_matching_bracket_highlight: fade-out(#ffe0b0, 0.4);
    editor_search_highlight_current: fade-out(#a0c0ff, 0.4);
    editor_search_highlight_other: fade-out(#f0d080, 0.6);
}

/* srcedit */

SourceEdit {
    font-face: "Menlo,Consolas,DejaVuSansMono,DejaVu Sans Mono,Liberation Mono,Lucida Sans Typewriter,Courier New,Lucida Console";
    font-family: monospace;
    font-size: 14px;

    &:focused {
        border: 1px solid $focused-border-color;
    }

    &:not(enabled) {
        background-color: $disabled-color;
    }
}

@define-colors {
    editor_left_pane_background: #f4f4f4;
    editor_left_pane_background2: #ffffff;
    editor_left_pane_background3: #f0f0f0;
    editor_left_pane_line_number_text: #444;
    editor_left_pane_line_number_background: #f8f8f8;
    editor_left_pane_line_icon_breakpoint: #f21818;
    editor_left_pane_line_icon_bookmark: #1818f2;
    editor_left_pane_line_icon_error: fade-out(#f21818, 0.5);
}

/* statusline */

StatusLine {
    padding: 1px;
    flex-shrink: 0;
    background-color: #eceffa;
}

StatusLine > Label {
    stretch: both;
}

/* toolbars */

ToolBarHost {
    padding: 6px;
    gap: 8px;
}

ToolBar {
    padding-left: 6px;
    gap: 4px;
    border-color: #bbb;
    border-style: solid;
    border-left-width: 2px;
}

ToolBar::separator {
    margin-top: 3px;
    margin-bottom: 3px;
    border-color: #999;
    border-style: solid;
    border-left-width: 1px;
}

ToolBar * {
    background: none;

    &:not(hovered):not(pressed) {
        border: none;
    }

    &:not(enabled) {
        border: none;
        opacity: 0.4;
    }
}

ToolBarButton {
    padding: 4px;
    focus-rect-color: none;
}

/* docks */

DockHost {
    padding: 2px;
    background-color: #eceffa;
}

DockHostBody {
    margin: 3px;
    padding: 0;
}

/* charts */

SimpleBarChart {
    padding: 2px;
}

@define-colors {
    chart_background: #ffffff;
    chart_axis: #c0c0c0;
    chart_segment_tag: #c0c0c0;
}

/* progressbar */

ProgressBar {
    min-width: 50px;
    min-height: 16px;
    max-height: 16px;
    padding: 2px;
    border: 1px solid #ccc;
}

@define-drawables {
    progress_bar_gauge: #4080ff;
    progress_bar_gauge_animation: url(progress_bar_gauge_animation.tiled);
    progress_bar_indeterminate: #80c080;
    progress_bar_indeterminate_animation: url(progress_bar_gauge_animation.tiled);
}

/* winframe */

WindowFrame {
    background: #f4f4f4;

    &::caption {
        padding: 3px;
        background: #e4e4e4;
    }

    &::label {
        align: left vcenter;
        stretch: both;
        padding: 2px;
        color: #333;
        font-size: 90%;
        text-transform: uppercase;
    }

    &::body {
        padding: 3px;
        stretch: both;
    }
}

/* appframe */

AppFrame::body {
    stretch: both;
}

/* dialog, filedialog, inputbox, messagebox, settingsdialog */

DialogFrame {
    padding: 0;
    border: 1px solid #888;
    box-shadow: 0 4px 18px #555;
}

@define-colors {
    dialog_background: #eee;
}

FileDialog {
    min-height: 400px;
    padding: 4px;

    .content {
        gap: 1px;
    }

    .right-panel {
        stretch: both;
    }

    &::grid {
        stretch: both;
    }
}

FilePathPanelButtons {
    padding-left: 3px;
    padding-right: 6px;
}

FilePathPanelItem {
    gap: 0;

    &::label {
        align: center;
        padding: 2px 3px;
    }

    &::label:hovered {
        background-color: $secondary-hovered-color;
    }

    &::button {
        padding: 0 1px;
    }

    &::button:hovered {
        background-color: $secondary-hovered-color;
    }
}

FileNameEditLine EditLine {
    stretch: both;
}

@define-colors {
    file_dialog_dir_name: #000080;
}

InputBox, MessageBox {
    padding: 10px;

    > Label {
        padding: 10px;
    }
}

SettingsDialog {
    padding: 4px;

    &::content {
        padding: 6px;
        gap: 3px;
    }

    &::tree {
        width: 150px;
        min-width: 50px;
        padding: 4px;
        border: 1px solid rgba(0, 0, 0, 0.1);
        background-color: #fff;
        font-size: 16px;
    }

    &::page {
        min-width: 100px;
        padding: 4px;
        stretch: both;
    }

    .settings-table::title {
        padding: 4px 4px 12px;
        font-size: 1.6em;
    }
}

/* Tooltips */

Label#tooltip {
    padding: 3px;
    box-shadow: 0 2px 7px rgba(0, 0, 0, 0.4);
    background-color: #222;
    color: #eee;
}

Popup#tooltip-popup {
    padding: 10px 2px 1px;
}
